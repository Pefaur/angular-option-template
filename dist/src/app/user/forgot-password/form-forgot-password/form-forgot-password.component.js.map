{"version":3,"sources":["../../../../../../src/app/user/forgot-password/form-forgot-password/form-forgot-password.component.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,OAAO,EAAa,YAAA,EAAsB,MAAA,EAAO,MAAO,eAAA,CAAgB;AACxE,OAAO,EAAe,UAAA,EAAW,MAAO,gBAAA,CAAiB;AACzD,OAAO,EAAE,gBAAA,EAA8C,MAAO,cAAA,CAAe;AAE7E,eAAe;AACf,0CAA0C;AAC1C,0DAA0D;AAC1D,yDAAyD;AACzD,KAAK;AACL;IAAoD,kDAAgB;IA2BlE,wCAAsB,WAAwB,EAAY,WAA2B;QAArF,YACE,kBAAM,WAAW,CAAC,SAMnB;QAPqB,iBAAW,GAAX,WAAW,CAAa;QAAY,iBAAW,GAAX,WAAW,CAAgB;QA1BpF,iBAAW,GAAG,IAAI,YAAY,EAAE,CAAC;QACjC,mBAAa,GAAG,IAAI,YAAY,EAAE,CAAC;QAEpC,gBAAU,GAAG;YACX,OAAO,EAAE,EAAE;SACZ,CAAC;QAEF,yBAAmB,GAAG;YACpB,OAAO,EAAE;gBACP,UAAU,EAAE,mBAAmB;gBAC/B,OAAO,EAAE,eAAe;aACzB;SACF,CAAC;QAEF,qBAAe,GAAG;YAChB,GAAG,EAAE,yEAAyE;YAC9E,GAAG,EAAE,qCAAqC;YAC1C,GAAG,EAAE,iBAAiB;SACvB,CAAC;QAEF,kBAAY,GAAG;YACb,OAAO,EAAE,OAAO;SACjB,CAAC;QAEF,kBAAY,GAAG,kBAAkB,CAAC;QAIhC,KAAI,CAAC,8BAA8B,GAAG;YACpC,OAAO,EAAE;gBACP,IAAI,EAAE,CAAC,UAAU,CAAC,QAAQ,EAAE,UAAU,CAAC,KAAK,CAAC;aAC9C;SACF,CAAC;;IACJ,CAAC;IAED,+CAAM,GAAN;QACE,IAAM,IAAI,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;aACpD,IAAI,CAAC,UAAS,QAAqB;YAClC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;YACxB,IAAI,CAAC,aAAa,CAAC,OAAO,GAAS,IAAK,CAAC,eAAe,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YAC9E,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,IAAI,CAAC;QACvC,CAAC,CAAC;aACD,KAAK,CAAC,UAAS,QAAqB;YACnC,IAAI,CAAC,aAAa,CAAC,IAAI,EAAE,CAAC;YAC1B,IAAI,CAAC,aAAa,CAAC,OAAO,GAAS,IAAK,CAAC,eAAe,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC;YAC9E,IAAI,CAAC,aAAa,CAAC,IAAI,GAAG,IAAI,CAAC;YAC/B,IAAI,CAAC,aAAa,CAAC,UAAU,GAAG,KAAK,CAAC;QACxC,CAAC,CAAC,CAAC;IACP,CAAC;IACI,6CAAc,GAA2C;QAChE,aAAa,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE;QAClC,eAAe,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,EAAE;KACnC,CAAC;IACF,qCAAC;CAxDD,AAwDC,CAxDmD,gBAAgB,GAwDnE;SAxDY,8BAA8B","file":"form-forgot-password.component.js","sourceRoot":"","sourcesContent":["import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { OptFormComponent, OptAuthService, OptResponse } from '@option/core';\n\n// @Component({\n//   selector: 'opt-form-forgot-password',\n//   templateUrl: './form-forgot-password.component.html',\n//   styleUrls: ['./form-forgot-password.component.scss']\n// })\nexport class OptFormForgotPasswordComponent extends OptFormComponent implements OnInit {\n   onSubmitted = new EventEmitter();\n   onSubmitError = new EventEmitter();\n\n  formErrors = {\n    'email': ''\n  };\n\n  VALIDATION_MESSAGES = {\n    'email': {\n      'required': 'Email is required',\n      'email': 'Invalid email'\n    }\n  };\n\n  SERVER_MESSAGES = {\n    204: 'The instructions to recover your password were delivered to your email.',\n    400: 'Recovery email already sent before.',\n    404: 'User not found.'\n  };\n\n  PLACEHOLDERS = {\n    'email': 'Email'\n  };\n\n  SUMBIT_LABEL = 'Recover password';\n\n  constructor(protected formBuilder: FormBuilder, protected authService: OptAuthService) {\n    super(formBuilder);\n    this.formBuilderGroupControlsConfig = {\n      'email': [\n        null, [Validators.required, Validators.email]\n      ]\n    };\n  }\n\n  submit() {\n    const self = this;\n    self.authService.recoverPassword(self.form.value.email)\n      .then(function(response: OptResponse) {\n        self.onSubmitted.emit();\n        self.serverMessage.message = (<any>self).SERVER_MESSAGES[response.statusCode];\n        self.serverMessage.show = true;\n        self.serverMessage.isStatusOk = true;\n      })\n      .catch(function(response: OptResponse) {\n        self.onSubmitError.emit();\n        self.serverMessage.message = (<any>self).SERVER_MESSAGES[response.statusCode];\n        self.serverMessage.show = true;\n        self.serverMessage.isStatusOk = false;\n      });\n  }\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'onSubmitted': [{ type: Output },],\n'onSubmitError': [{ type: Output },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}